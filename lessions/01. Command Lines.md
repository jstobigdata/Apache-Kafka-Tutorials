## Bring up Zookeeper and Kafka Containers
1. Let us first bring up the Zookeeper and Kafka container upNavigate inside docker-confluent-kafka directory and run the docker compose up command.
```shell
$ cd docker-confluent-kafka
$ docker compose up
```
2. Note the `docker-compose.yaml` file and the configurations
3. Run `docker ps` and note the details of the running containers.The container id will be different in your case.
```shell
$ docker ps
CONTAINER ID   IMAGE                              COMMAND                  CREATED          STATUS          PORTS                          NAMES
7bd9e224d911   confluentinc/cp-kafka:latest       "/etc/confluent/dock…"   25 minutes ago   Up 25 minutes   0.0.0.0:9092->9092/tcp         kafka-broker
fb8f0f256530   confluentinc/cp-zookeeper:latest   "/etc/confluent/dock…"   25 minutes ago   Up 25 minutes   2181/tcp, 2888/tcp, 3888/tcp   zookeeper
```

## Create a Topic
* Connect to the running Kafka container
```shell
$ docker exec -it kafka-broker bash
[appuser@7bd9e224d911 ~]$
```
* Create your first topic. 
```shell
$ kafka-topics --bootstrap-server localhost:9092  --topic first_topic --create --partitions 3
$ kafka-topics --bootstrap-server localhost:9092  --list
$ kafka-topics --bootstrap-server localhost:9092  --topic first_topic --describe
```
* **NOTE:** You do not need to specify the zookeeper details anymore, refer the [stackoverflow post](https://stackoverflow.com/questions/69297020/exception-in-thread-main-joptsimple-unrecognizedoptionexception-zookeeper-is)

## Kafka Console Producer
* Run the command below to send your first message to the topic `first_topic`
```shell
$ kafka-console-producer --broker-list 127.0.0.1:9092 --topic first_topic
>hello there
>welcome to https://jstobigdata.com
>Have a nice day! :)
>^C
```
#### When a Producer does not exist
```shell
$ kafka-console-producer --broker-list 127.0.0.1:9092 --topic second_topic
>hello there  again, you are hacked
[2022-02-01 13:10:11,423] WARN [Producer clientId=console-producer] Error while fetching metadata with correlation id 3 : {second_topic=LEADER_NOT_AVAILABLE} (org.apache.kafka.clients.NetworkClient)
>Your gmail is hacked!
>Beware of online fraud
>^C

[appuser@f28fa24c98aa ~]$ kafka-console-consumer --bootstrap-server localhost:9092 --topic second_topic --from-beginning

[appuser@f28fa24c98aa ~]$ kafka-topics --bootstrap-server localhost:9092  --topic second_topic --describe
Topic: second_topic	TopicId: D8to0XjRSdC8Eth9eIjK3g	PartitionCount: 1	ReplicationFactor: 1	Configs: 
	Topic: second_topic	Partition: 0	Leader: 1	Replicas: 1	Isr: 1
```

## Kafka Console Consumer
* Run the below command to read the messages from the topic `first_topic`
```shell
$ kafka-console-consumer --bootstrap-server localhost:9092 --topic first_topic --from-beginning
```
## Further references:
1. Issue while connecting to the container. Uncomment the kafka.properties to https://medium.com/@betuliremsedef/apache-kafka-in-a-minute-ddd684f033aa
